Metadata-Version: 2.4
Name: spam-filter
Version: 0.1.0
Summary: Rule-assisted spam and policy moderation engine for forum content.
Requires-Python: >=3.10
Description-Content-Type: text/markdown
Requires-Dist: flask>=3.0.0

# Spam Filter Engine

Forum gönderileri için argo/uygunsuz içerik taraması yapan, spam ve siyasi içerikleri yöneten katmanlı bir moderasyon modülü. Tüm işlem yerelde gerçekleşir; herhangi bir harici API gerektirmez.

## Özellikler
- Unicode normalizasyonu, leet/emoji temizliği ve tokenizasyon.
- Kategorize edilmiş kelime listeleriyle argo, yetişkin ve nefret dili taraması.
- URL yoğunluğu, tekrar eden karakterler, kelime çeşitliliği gibi metriklerle spam kuralları.
- Statik katsayılar içeren hafif bir doğrusal model ile spam/politika olasılık skoru.
- `ACCEPT`, `ADMIN_REVIEW_SPAM`, `ADMIN_REVIEW_POLITICS`, `REJECT` kararları.

## Kurulum
```bash
python -m venv .venv
.venv\Scripts\activate  # Windows
pip install -e .
pip install pytest
```

## Kullanım
```python
from filter.moderator import ContentModerator

moderator = ContentModerator.load_default()
result = moderator.moderate("bedava para kazanmak için şu linke tıkla")

print(result.status)   # ModerationStatus.ADMIN_REVIEW_SPAM
print(result.reason)   # "spam_rule_trigger"
print(result.scores)   # {'spam_rule': 0.62, 'spam_model': 0.71, ...}
```

CLI örneği:
```bash
python -m filter.cli "Gönderi metni buraya"
```

## Testler
```bash
pytest
```

## Yapı
- `src/filter/normalizer.py` – metin ön işleme ve tokenizasyon
- `src/filter/lexicon.py` – sözlük tabanlı tarama
- `src/filter/rules.py` – kural skorlayıcı
- `src/filter/model.py` – JSON tabanlı doğrusal model
- `src/filter/moderator.py` – karar motoru
- `data/lexicons/*.txt` – kelime listeleri
- `models/*.json` – model katsayıları

## Genişletme
- Lexikon dosyalarına yeni kelimeler ekleyin veya ayrı dosyalar tanımlayın.
- `models/*.json` içindeki katsayıları yeni eğitim sonuçlarına göre güncelleyin.
- Admin panelinizde `ModerationResult.metadata` içeriğini göstererek hangi kontrollerin tetiklendiğini izleyin.

